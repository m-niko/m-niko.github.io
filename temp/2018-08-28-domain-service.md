---
layout: post
title: Служба предметной области (Domain Service)
tags: [DDD, architecture, domain]
---
При моделировании модели предметной области, бывают случаи, когда бизнес операцию неудобно реализовывать в конкретном *Агрегате* или *Объекте значения (Value Object)*. В таких случаях стоит применять *службу предметной области (Domain Service)*, которая имеет следующие характеристики:
* Не имеет собственного состояния
* Имеет интерфейс, который четко выражает *Единый язык (Ubiquitous Language)*, в своем ограниченном контексте




К примеру, нам необходимо перевести деньги с одного счета на другой, при этом подсчитать сумму комиссии. Допустим у нас есть корень агрегата *счет (Account)*. В данной операции нам необходимо взять один счет, списать у него определенную сумму + комиссию и взять второй счет на который эту сумму зачислить, но уже без комиссии. Делегировав эту задачу классу *Account*, мы нарушим принцип единой ответственности (SRP), к счастью мы можем использовать *службу предметной области (Domain Service)*, которая  

В этой ситуации стоит вспомнить про *единый язык (Ubiquitous Language)*, на основе которого моделируется модель предметной области, при общении с экспертами этой подобласти. В нашем примере, беседа проходила следующим образом: 
- Что происходит, когда необходимо перевести деньги между счетами? 
- Система в рамках транзации списывает деньги с одного счета и зачисляет на другой, в случае сбоя, вся операция откатывается. 

